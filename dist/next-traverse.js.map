{"version":3,"sources":["next-traverse.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-traverse.js","sourcesContent":["(function() {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('@feizheng/next-js-core2');\n\n  var DEFAULT_OPTIONS = { itemsKey: 'items', context: null };\n  var isArray = function(target) {\n    return target instanceof Array;\n  };\n\n  nx.traverse = function(inTarget, inCallback, inOptions) {\n    var options = nx.mix(null, DEFAULT_OPTIONS, inOptions);\n    var optKey = options.itemsKey;\n    var walk = function(items, deepth, parent) {\n      var _deepth = typeof deepth === 'undefined' ? 0 : ++deepth;\n      nx.forEach(\n        items,\n        function(item, index) {\n          var children = typeof optKey === 'string' ? nx.get(item, optKey) : optKey(item);\n          item.deepth = _deepth;\n          item.independent = !children || children.length === 0;\n          var res = inCallback.call(this, index, item, parent);\n          if (res === nx.BREAKER) return nx.BREAKER;\n          !item.independent && walk(children, _deepth, item);\n        },\n        options.context\n      );\n    };\n\n    walk(isArray(inTarget) ? inTarget : [inTarget], undefined, null);\n  };\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = nx.traverse;\n  }\n})();\n"]}